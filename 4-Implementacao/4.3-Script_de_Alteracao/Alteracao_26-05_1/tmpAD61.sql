IF object_id(N'[dbo].[FK_dbo.Exemplares_dbo.Fornecedores_editora_id]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Exemplares] DROP CONSTRAINT [FK_dbo.Exemplares_dbo.Fornecedores_editora_id]
IF object_id(N'[dbo].[FK_dbo.Exemplares_dbo.Idiomas_idioma_id]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Exemplares] DROP CONSTRAINT [FK_dbo.Exemplares_dbo.Idiomas_idioma_id]
IF object_id(N'[dbo].[FK_dbo.Exemplares_dbo.Sessoes_sessao_id]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Exemplares] DROP CONSTRAINT [FK_dbo.Exemplares_dbo.Sessoes_sessao_id]
IF object_id(N'[dbo].[FK_dbo.Idiomas_dbo.Paises_pais_id]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[Idiomas] DROP CONSTRAINT [FK_dbo.Idiomas_dbo.Paises_pais_id]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_editora_id' AND object_id = object_id(N'[dbo].[Exemplares]', N'U'))
    DROP INDEX [IX_editora_id] ON [dbo].[Exemplares]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_idioma_id' AND object_id = object_id(N'[dbo].[Exemplares]', N'U'))
    DROP INDEX [IX_idioma_id] ON [dbo].[Exemplares]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_sessao_id' AND object_id = object_id(N'[dbo].[Exemplares]', N'U'))
    DROP INDEX [IX_sessao_id] ON [dbo].[Exemplares]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_pais_id' AND object_id = object_id(N'[dbo].[Idiomas]', N'U'))
    DROP INDEX [IX_pais_id] ON [dbo].[Idiomas]
EXECUTE sp_rename @objname = N'dbo.Exemplares.editora_id', @newname = N'editoraId', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.Exemplares.idioma_id', @newname = N'idiomaId', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.Exemplares.sessao_id', @newname = N'sessaoId', @objtype = N'COLUMN'
EXECUTE sp_rename @objname = N'dbo.Idiomas.pais_id', @newname = N'paisId', @objtype = N'COLUMN'
ALTER TABLE [dbo].[Exemplares] ADD [isbn] [int] NOT NULL DEFAULT 0
ALTER TABLE [dbo].[Exemplares] ADD [edicao] [int] NOT NULL DEFAULT 0
ALTER TABLE [dbo].[Exemplares] ADD [preco] [decimal](18, 2) NOT NULL DEFAULT 0
ALTER TABLE [dbo].[Exemplares] ADD [peso] [decimal](18, 2) NOT NULL DEFAULT 0
ALTER TABLE [dbo].[Exemplares] ADD [quantidade] [int] NOT NULL DEFAULT 0
ALTER TABLE [dbo].[Sessoes] ADD [subsessaoId] [int]
ALTER TABLE [dbo].[Exemplares] ALTER COLUMN [editoraId] [int] NOT NULL
ALTER TABLE [dbo].[Exemplares] ALTER COLUMN [idiomaId] [int] NOT NULL
ALTER TABLE [dbo].[Exemplares] ALTER COLUMN [sessaoId] [int] NOT NULL
ALTER TABLE [dbo].[Idiomas] ALTER COLUMN [paisId] [int] NOT NULL
CREATE INDEX [IX_editoraId] ON [dbo].[Exemplares]([editoraId])
CREATE INDEX [IX_idiomaId] ON [dbo].[Exemplares]([idiomaId])
CREATE INDEX [IX_sessaoId] ON [dbo].[Exemplares]([sessaoId])
CREATE INDEX [IX_paisId] ON [dbo].[Idiomas]([paisId])
CREATE INDEX [IX_subsessaoId] ON [dbo].[Sessoes]([subsessaoId])
ALTER TABLE [dbo].[Sessoes] ADD CONSTRAINT [FK_dbo.Sessoes_dbo.Sessoes_subsessaoId] FOREIGN KEY ([subsessaoId]) REFERENCES [dbo].[Sessoes] ([id])
ALTER TABLE [dbo].[Exemplares] ADD CONSTRAINT [FK_dbo.Exemplares_dbo.Fornecedores_editoraId] FOREIGN KEY ([editoraId]) REFERENCES [dbo].[Fornecedores] ([id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Exemplares] ADD CONSTRAINT [FK_dbo.Exemplares_dbo.Idiomas_idiomaId] FOREIGN KEY ([idiomaId]) REFERENCES [dbo].[Idiomas] ([id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Exemplares] ADD CONSTRAINT [FK_dbo.Exemplares_dbo.Sessoes_sessaoId] FOREIGN KEY ([sessaoId]) REFERENCES [dbo].[Sessoes] ([id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Idiomas] ADD CONSTRAINT [FK_dbo.Idiomas_dbo.Paises_paisId] FOREIGN KEY ([paisId]) REFERENCES [dbo].[Paises] ([id]) ON DELETE CASCADE
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201705261415342_IncluirExemplar', N'Finis.DAL.Contexto',  0x1F8B0800000000000400ED1D5D6FE3B8F1BD40FF83E0A7BB622FDE6451E0BA48EE90739222E8E603EBDD43DF168ACD78D5CA924F928304457F591FFA93FA174A89A4448A3314A90FDBD9131658C4A4381C723E480E6738FFFBCF7F4F7F7E5E87DE1349D2208ECE26C7476F271E8916F132885667936DF6F8C38F939F7FFAE31F4E2F97EB67EF57F1DDBBFC3BDA324ACF265FB36CF37E3A4D175FC9DA4F8FD6C12289D3F8313B5AC4EBA9BF8CA7276FDFFE657A7C3C2514C484C2F2BCD38FDB280BD6A4F8417FCEE2684136D9D60F6FE22509535E4E6BE60554EFD65F9374E32FC8D9E42A8882F4E8E2FCC3C43B0F039F223027E1E3C4F3A328CEFC8CA2F7FE734AE6591247ABF98616F8E1A7970DA1DF3DFA614A38DAEFABCF6D47F0F6241FC1B46A28402DB66916AF1D011EBFE35332AD376F35B19372CAE8A45DD2C9CD5EF2511713773639DF667132F1EA3DBD9F8549FE95985436F947C5D76FBCA2EC4D4973CA1AF9BF37DE6C1B66DB849C45649B257EF8C6BBDF3E84C1E26FE4E553FC4F129D45DB3094D1A108D13AA58016DD27F18624D9CB47F2C8910C96136FAAB69BD61B96CDA4366C04D751F6EE64E2DDD2CEFD879094D496463BA7C3227F251149FC8C2CEFFD2C230925D6F59214F3A5F55EEB8B3C93F526F4932F5AA7E67651BC26A201654B2A5813EFC67FFE40A255F6F56CF2672A4957C133598A028EF8E728A06248DB64C99600036B4076ED0761F75ECD9D6424248F71641A1DFDB3878E1624DCD2991FBC1F122D494216F1B51B85B729A15C11D1FFB3C1512CFADA6E96948507EF2BEFA436AE0B5AF42958DB3555D1449BDEFA4FC1AA1051841C13EF23098B0FD2AFC186297CA6A5BE549F5C25F1FA631C0A6D57D67C99C7DB6491631183D59FFC6445327BA42EB91A009112955F8A4E482AA355AF2B7B1688691F08CC65D44EA7957637EAFCCB72662CD5BE68306AFE7A5F61BC4AE87ABB4D6283C8BDEB43A346DB35A97AC146D6A02C63CA45644D873638BA0F7E901827E5A48F5EE8D6D0491D2F82A5BF24A30E3F081DCE88012B4BA182C53792AE54AB341D5EAF8794B8B5A69CF1EE2DF524FB7CD4928EFB5C4B85E3BACF4D33AA9935597784320AFF401BB8823AA0F03329FA22BEA8445FA9D0045FADED24F697BC6BDBED51F1F928F60721F669B00A7DD3BE63884E377E908E9AE630354D4E1B7893C13405AB97361855B1BEB990EA3A6998FBA2534BFD927F3C6A97DFAF761935437BCD60BFE697C61BDB559F3718255333FE06D936ECC1C2E06CDDC859E9C95FF855DFC57E522E778419A40F51B765DD8F629D435D8F32CB401A543B3C36CCE2C731218B60ED8713EF9E9606FC82EFC789375FF8394077E84B922E121949D0E2D387C96743D2E186F144A2A57F1785417573F14B4C577E3F7206F5DBD6A7C2C2CC075DE846694FA5D1EFBABB0C9601D5695DA1A4244DFDF14C8D09C19E77BAE5CD42D7EB076DDB8BDD4F589FF619139B312B3F0230E3753866E20357CC985C981113DF0078B12A1C2D5EEF8A1593333356E21B002B568563C5EBBBD94804B56CB74BECFB8EBB25EF173F25D2DA7E152711599065EEC33035E27BCD8968892EFB7CDCDB399EBA2C6F7546F3CA37B3E8A0E61526419A79452AD614945CD74939CDB96EB41476F6F928EC0721ECE9F601D9668E02BE0F0137EC4598DC003B11A5421373B5B693A09F3FF961C04EF6B62E8CA2C528EEA304EDC1CE380B034A0D079F02F6FDC8ADDA3AE187CB78961407BF7B3F59047EE9D5DABB5D48EEEB32DD90413BA3CCE6DFFA29852A3B6AB5361EAEF219562DA29F824DFC575EEC082D59ED7C43307A498F5ED2E3C2D3BB97345F58403FE97A9DEE6C53FFA0D32E4EB6E2582E8B55937165D4A43DDAFC6368D5352AE551298F4AB977A55CA935502F03D59A6A86BEE9A49D3F257E943A9DB1CB16A36ED66E98FD304E063D3A743E3064F47420D1BC766E906A460BFC41289485B02800FAA4A4D697F2AB4A9B68959A2ED1BF70D324DBB56CF990FD70AED3ABD05F55A1D7B6D6900A46D79BC4CFB9720C5F284FC8B2AFCEF90D593F9084E37F7BF7EBDDC4FBD50FB7F4C7B1461FE5DBCFF3F38BEAE3137DBED8CC18664B3EA3B79CAC0AC4CEE7EAEAF2E6FAF6FAD67ABE6ECEE7B3CF1FE4066DE74CD24F1DA6ADAF15CC7DE62E6F3F7D3CBF38B79DB8F9F9B5F4B1D5A49DA769BC088A1950E21DD8559DDAD765B4F40C6ED1D5D22042266EE8AC041B3A0F541F9C4DFEA4210F032CE35D2B80CC435A05773CA96F00EEA20BBA5DCF8877BE60EF2BCCFC7451F85CD53701B463B584EE19E8E628CA5F81C8B50AA5611065FA06238816C1C60F71A46B4D2C7725394A25F07ACD05D9E45BB728C3E7DEA657716DAEF75C76509BA4A639399D4ACC63E629358A07630224A44772DEE42E74F67C05C70135B2EAFE790B447C07DC05D2C0A6DF2AC26E2F1C560F1245150D16312AB14479D672D05F48A06923F3BE3D3AD2957A3B6D04A3B00B8D04CFA94DCF550CF65EB8A6F63804465DECA5888AB8FCE51C7B86415E97B060C3FE3806C661070C03CFA7959691CC57FBD13375D7595423A07EB41289CB30130B121B4003DC63C990ED340D32B45DA81A64E856BC233FCCB45FE611DECD8D14D65C9D9B99C7B84C611ED2325CE1CB7B685B220CF95DB25D8D1E566C57C56CEC85E964D74B8C2F403FCC8A2584BBB43DA341CE9B077F9E0390DE016F01737FF0E7B97A3444A3BEA98746F4A4C66A11158D2CBB7F1E4350DFA50E536961D7B38817DB0BB7A99EA51853206EA6154B083F707B3E837D531B41F6B7430711D801AF807369D3AFE2AFBD5FD5D4C02E687C544FAAC995690E4835ED9CDD105A5831DC7EB94DF39B420D91A81395642112B7720EF64DCCF56AA786040C8B5DD82B91797D15C604C8C103A3B4D1DB038E81B46723939BC84E39C980C80E98C930C7AF829FF40B7E8CE086DB7EC9C3A3BA3DB56725DC4BA059D3E97C840E9E3919D009CBE8749517A0F96FF29C41CE499F53C26F7853EEC9511F410E704E32D9343CF12A6706D5B0A68D5F6D5D498A06A0AA6A80212E0C3408A2A209077EB5A563C02B1ADAB343BAD69A1537F55D6E9DF4DECBAA0618EC0807A1200E770D00D8460B0220B6600D00A480329D0FAABA263A0A66D709296A1A20C84A5D038245BD03702481D6C0487535289204D6998B07F44A5F00CFA9D535A1D98DA0C4B962604D979AFD06240820AF4ED501590CB6F608A53E5CC3FDB6BA5D036FB8258461D136C000068D88B7FBB0B58777013A9BAE5D554A2117AF32E2886634C2012600D18FEE13507F3B5E1FBFE90251411BB94294B0061716130C88F4D8DAD282F8DA1B3100F58D9761F0B9B87E1D26638FAC0C6640C034C06B748739285FA331CC0178A763BE7DE93C07F56B1C09906159709F08E5F9067D0ED02B86C64B0609E172B9370C1CBA56E85FDD6B6FFD18A80E19C0AD4CE0AD695EB37937CF608B19A8C5F2EBE33798642D8CB212CEE51ECD3074D80CDB0CA40BE9F1A11B0D8C5626C6D6A4DFC50CE89180C076C768F5B2B37BC9EB35BC0DB633740DB3FA81A137FA44341A70AC4D38569ADBDA6633CCA400F103FA9434D8202CAD10D200D08389A5D9A199D10C5321A2194A434359773A6539E778C1E914494E777AE36F3641B49292D5F1126FCE32D5CD7E98BBE7725B3318D385B2E2D6CD22654FF92E61456AB5B9BD6449AE8224CD2EFCCC7FF073BFF8D9720D7CC6CD2AC8F15274235B4E74528903A7F83AFF9B4B9BC8D57704B6ADA6EC8A8E227F08A11810D1767C5A3B2FCF0CE853D5090479CDE270BB8E70BB21DE5A712492C1183D8C70782C7C5606C44A1C3062B1B00A2EACC81E4615EA2A83A94AED2195B1AC32A0B2D06154923D55199AC1CE8A435322CE64704A85233C11AEA5C11315F6F094C831199E52E1080FC24FA9D0E19D4E6BC2A659B23551D6AE2355BD60A5352EF1F5D3467160CD2D7407DE7418F521A70993A1C8E50ECA83A70253D4072F73105939199822B672853D3C91F14B0625CA5C14C9A6AE44364EED4BEF720508EA738E431A95C7412B8F19667DB4511D70630BC581351C466DF4B04B28437494D5140DDCC1218DE270D0E27089DD4358ADA460639B75146978A8E2C0D3B7C82078913D0CE1852B03C13C737128A3381DB438DDC3766D1B61829A5A8812DCEC5B16A451040E5A044A3B75CB3505696EB3AAA04D87110791AF483182F03297F394F4BC897A9E922AECE1B1D443CAA88A127B0845EA21194051E0B079E4698794AD232F73582F99295A592EE12B7F1C86945E48119CAAD8019F228190824E51620F41C9122403522AECE1C9A982647072B913D544F0598D70584C9A8107CB281055BAB0D8101C52E5B4ADAC19A82B370E695C360E7AD990AEB25A2E1CB05385C5BA81778DCFAEF5CA318B238A58EE78CBDFDA298366E5E61741AE91D641E4839E3DDDA9D2308DD769FEF7DDE377D57C56B3F2FDA1CD29BC8E16AF972A0B6851325EAE8C972BBF473D6CAD384DA27A60BA53F677D8A9FA6CB9A80937AB7684B9061DC62C8882353C54ABC0681A7B4D8AA5A52C08BFB376B230073DE82C64016B78A8B2A084452B671E53BC340E6F948A83968A2A36A89D5CA0ED2D44C3D07618E91879F1A07971867A615ADD8DC3AD2DF8106D390C178209A0144D0B7DD00E7E95F409EBA0FAC289AF944C4F35D652EAECA18A844F323451660F254FF42443C87F8F47F0F1083EEA616B3D5CB9B1B7D3C4687B0B5D6C683B8C36E6892D94EB1056E4A60F752DE87695A7BC00AFDEE82955A394BD36295323361051ABE2548C12557D662D3879E4496DA6D008147D6EAC244E4081DF3491FA6F831AFAAA496B656044A9B2F95DA779A298320B83DD80EB013A3A4768713AF54F4A7EE425E5EF324E87C7C828C13BC584E4A138C544A43C5EA71E34C33EC913F7C44FC1320F9899BFA419591FE51F1CCD7F0BD95EB8FAE0C68F824792662C37C4E4E4EDF1C9C43BA7C7B6940551F170A0F7F5474CACE2838EDFE5F14164B99ED69BBB4719E550D274A9245F02F22EEBC137BBC8CF14E453DA9881C935AB9C1CC223F5A3BD27734D3769CF67937F15EDDE7BD77FFF22357DE3DD2594CEEFBDB7DEBF65145C93E9454FF4A4F2B578814E4D6CD725579E05D036A9F104D8EFD6FEF3F7AEC06AE9EF3AC192B7CF8E142C5B76212090DAAAD37880F4559DE00129AAF2A2AC961ECC1A948A9A1D28EB7C737070CEAB552F728C8F411ADF394BA308F9917077444D89F4E9153711F863007AE20CB4080502476BD5BA8C0172D310A2DDA81F0E443F403138AF563B342EFDEF5A2CFD65788FE35AC8DB619CDE36CBE3C8EAAD9742287BD6C8EA5A1C8269997186293C16DC8487B51A45E75044478FA719056760C119F9B74FD50F06C1BC5A1E16F134FD72B1125AD3FE1CC4026BDAB72FE26A702EB0DBB4F1C09AF658F0A81A8E47EFA9C5AB581BE3A1CEF954C7A26F06C25A89C8617D3C04EE532B47E2B427901482E3B831170D3B6D2FAAB01DB7DE45BB4E9D572E6F6E9D8B76E3C6EA501626CC53FCD52E4D2CBCA45743F968D01F0DFADFBCC6D041D5C2370CAC7A7CF263830058EB232848E2D5EAA246C571E2AE38467BC6010B91359B43F10F239BCB3B4C39AEC2719359351D178D03E17724A8E1D5B2FCC81C7D5E0182B9AE5E2B6B80710A031944E09085A16C46B518868E263211C4D0DE02930731F4BBEA8C27BDF1A437EA65A19711E7E957AB997904C380EAB1B352AC8535B4D78DA320B401257BB03BFA95952DEDD5172688404E6C2C1B9F944083E54E62584B791E074C525DCFE2A7A69AE5454D89475B6599455EE5B4D1429E535E6BEC295DBD27EC658CDD64B1C6D317B6A1D2405C3253EEDC944CA883708903F5BA26B1C65E20D77BC25FEBDE09A718F33DB6A115983A5ACFF6689586BA27BA3B50A3AB7EC09356E87DE1690B76427953A6CBB6046B203E4FE32801E225C388BB0B313A121E4B7304C8FBBE738A9B737C0259EA54CA9785874C79FC75E27D52DE944C6AB7A407539B82A9E8149AC9C5BBD947BAB0604FCC637C68AFFF15C385550DAFFCEE847FD0B4B00772EC1069E4A5DE45D1AB3E76A04F0C1ED8B1C39844B70D9DBE21B5E240C35DAA14FCB5EF9D708C21EDB0962F58A1962872DA85B0462C20BF11564F74479F44EC9DEED2E86C7A33BE54B85B75D117F9BF2175B13BB67152177BE618739EEA814EAD33F9CD193561F6377072C51F043CC0B36B637AEE8158C0F93CF40A19C1F1DCB3775E68C84BDE4E801BF840BB8A5333A40F65BF7410D18E4C607A940EB0601A5FB4EA9D076A2F428935414B795EA71E7FFD4BB67B8A2CF2BA418ABDFD7436593EE444665775C252A633860ABAD22E1AF4AA0AEA40D43677218CEE5A07A20202CFEA2CF0E7B73F3AF6BC02C4BDA86B06CEEC001A68560C01CE6B6C902E37623ADA65158838AFB5E84356F45A2F7225D44F556FD19338076BBD880AA80791C0A009B8D8356BC04505043CAF8B2D30AF5C3A01D9AAEA40F962D536BD947A5B1780F2CD3F48025865337C49976B3D4875501FBC1A1A85FADA1D7089EF495F28320718DB00735B390A51A06963FDD6576A238AEA6722156D8B21A9F7CEC0A00C17D3ED9054177A4539CA299DBB0FAD7E510A51CC7497DA0E5164472B4F4B59D87988B51B416084A63BC3F6A82A2D95E5993D80BF05D2C5B4A160FDE20B22A1F1720CB10AC8432C0BF73B4471C1631A227809841E7B246CE56213BBBA4C508BC1CAB711C038D1CB8A8EFA535DA1E54C3E3DD28F1BD04DE4836CECED10DD29D5548B2F3040834918B40A4A688A22C3F064137063CB2E14C40768347BF630C4A129A819E1A075DE68A8EB69A9A8ED05952C15DD8709D99A8091369AA47A1AACB32E6E3164E0016D7DC00D7697B614C2EC2C524BF47D77C350B577A4CBBAD329DBC4F302FA537B2FFA74FA711BE57EC3ECD70549835505227F049BCEBD62A528BFB98E1E636130A961243EA9F91ADF10BABFF533FF3CC982477F91D1EA0515F6205A4DCAA4A4EB07B2BC8EEEB6D9669BD12193F543F8224F466E7431F57F3AD5703EBDDBE4BFD23E8640D10C7257EBBBE8976D102E4BBCAF80007004446ECDE12EFE392DB3DCD57FF55242BAD5327B6080F8F49546A84F85FEA347C0BB68EE3F9136B87D4EC907B2F2172FF7FCD96F1C483321D4693FBD08FC55E2AF530EA36A4F7F521E5EAE9F7FFA3F8408E59EB6FF0000 , N'6.1.3-40302')

